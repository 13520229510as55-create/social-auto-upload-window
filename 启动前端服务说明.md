# 前端服务启动说明

## 当前状态

### ✅ 已完成
1. **停止所有旧的 Node.js 进程**
2. **删除所有旧文件**（包括 `index-Bom_1wF-.js`）
3. **上传新文件**（只有 `index-DoKvP7U0.js`）

### ⚠️ 待完成
**前端服务需要手动启动**

## 手动启动方法

### 方法1：使用远程桌面启动（推荐）

1. **连接到服务器**
   - 打开远程桌面连接
   - 地址：`39.105.227.6:3389`
   - 用户名：`administrator`
   - 密码：`15831929073asAS`

2. **启动前端服务**
   ```cmd
   cd C:\social-auto-upload-window
   start-win.bat
   ```

3. **或者直接启动前端**
   ```cmd
   cd C:\social-auto-upload-window\sau_frontend
   npm run dev
   ```

### 方法2：使用 PM2 管理（如果已安装）

```cmd
cd C:\social-auto-upload-window\sau_frontend
pm2 start "npm run dev" --name sau-frontend
```

### 方法3：创建 Windows 服务

如果需要自动启动，可以创建 Windows 服务：

```cmd
sc create "SAU-Frontend" binPath= "C:\social-auto-upload-window\start-win.bat" start= auto
sc start "SAU-Frontend"
```

## 验证服务启动

### 检查端口
```cmd
netstat -ano | findstr :5173
```
应该看到：
```
TCP    0.0.0.0:5173    0.0.0.0:0    LISTENING    <PID>
```

### 检查进程
```cmd
tasklist | findstr node.exe
```
应该看到 node.exe 进程

### 访问页面
打开浏览器访问：
```
http://39.105.227.6:5173/
```
应该能看到登录页面

## 清除浏览器缓存（非常重要！）

即使服务启动成功，浏览器可能仍然缓存旧文件。

### 方法1：使用无痕模式（最简单）
1. 打开新的无痕/隐身窗口
2. 访问：`http://39.105.227.6:5173/#/production/config`

### 方法2：清除所有缓存
1. 按 `Ctrl + Shift + Delete`
2. 选择"缓存的图片和文件"
3. 时间范围选择"全部"
4. 点击"清除数据"
5. 关闭所有浏览器窗口
6. 重新打开浏览器访问

### 方法3：使用开发者工具
1. 按 `F12` 打开开发者工具
2. 在 Network 标签中勾选 "Disable cache"
3. 右键点击刷新按钮，选择"清空缓存并硬性重新加载"

## 配置管理页面访问

启动服务并清除缓存后，访问：
```
http://39.105.227.6:5173/#/production/config
```

应该能看到：
- 3个Tab：图文、文章、视频
- 3个账号：
  - 小红书：程序员饼干
  - 抖音：相宜成长日记
  - 视频号：马克

## 常见问题

### Q1：start-win.bat 执行失败
**A1**：检查脚本内容，确保路径正确，可能需要修改脚本

### Q2：npm run dev 报错
**A2**：检查 Node.js 和 npm 是否已安装
```cmd
node --version
npm --version
```

### Q3：端口被占用
**A3**：查找并关闭占用端口的进程
```cmd
netstat -ano | findstr :5173
taskkill /PID <PID> /F
```

### Q4：页面仍然空白
**A4**：
1. 确认服务已启动（检查端口和进程）
2. 确认浏览器已清除所有缓存
3. 使用无痕模式访问
4. 检查浏览器控制台是否有错误

## 后续建议

### 1. 使用 PM2 管理服务
```cmd
npm install -g pm2
cd C:\social-auto-upload-window\sau_frontend
pm2 start npm --name "sau-frontend" -- run dev
pm2 save
pm2 startup
```

### 2. 配置自动启动
创建 Windows 计划任务，在系统启动时自动运行 start-win.bat

### 3. 监控服务状态
使用 PM2 或创建脚本定期检查服务状态

---

**重要提醒**：
- ✅ 旧文件已彻底清除
- ✅ 新文件已上传
- ⚠️ 需要启动前端服务
- ⚠️ 需要清除浏览器缓存

时间：2025-12-24 22:45

