# MediaCrawler æ•´åˆå®Œæˆè¯´æ˜

## âœ… æ•´åˆçŠ¶æ€

### å·²å®Œæˆçš„å·¥ä½œ

1. **ä»£ç å…¨é‡å†…ç½®**
   - âœ… å·²å°† `/Users/a58/MediaCrawler/admin_api` å¤åˆ¶åˆ° `social-auto-upload-window/MediaCrawler/admin_api`
   - âœ… å·²å¤åˆ¶æ‰€æœ‰å¿…è¦çš„ç›®å½•ï¼š
     - `database/` - æ•°æ®åº“æ¨¡å‹
     - `media_platform/` - å¹³å°çˆ¬è™«å®ç°
     - `config/` - é…ç½®æ–‡ä»¶
     - `cmd_arg/` - å‘½ä»¤è¡Œå‚æ•°
     - `libs/` - ç¬¬ä¸‰æ–¹åº“
     - `main.py` - ä¸»å…¥å£æ–‡ä»¶
     - `requirements.txt` - ä¾èµ–æ–‡ä»¶

2. **è·¯å¾„é…ç½®**
   - âœ… å·²ä¿®æ”¹ `crawler_api.py` ä¸­çš„ `MEDIACRAWLER_PATH`ï¼ŒæŒ‡å‘å†…ç½®çš„ `MediaCrawler` ç›®å½•
   - âœ… è·¯å¾„é…ç½®ï¼š`Path(__file__).parent / 'MediaCrawler'`

3. **æœåŠ¡å¯åŠ¨**
   - âœ… åç«¯æœåŠ¡è¿è¡Œåœ¨ï¼š`http://localhost:5409`
   - âœ… å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ï¼š`http://localhost:5173`
   - âœ… API æ¥å£æµ‹è¯•é€šè¿‡

4. **æ¨¡å—è¡¥å…¨**
   - âœ… åˆ›å»ºäº† `tools/utils.py`ï¼ˆæä¾› `str2bool` å‡½æ•°ï¼‰
   - âœ… åˆ›å»ºäº† `tools/crawler_util.py`ï¼ˆæä¾› `find_login_qrcode` å ä½å‡½æ•°ï¼‰

## ğŸ“ ç›®å½•ç»“æ„

```
social-auto-upload-window/
â”œâ”€â”€ MediaCrawler/              # MediaCrawler å†…ç½®ä»£ç 
â”‚   â”œâ”€â”€ admin_api/            # ç®¡ç†åå° API
â”‚   â”œâ”€â”€ database/              # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ media_platform/        # å¹³å°çˆ¬è™«å®ç°
â”‚   â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ cmd_arg/               # å‘½ä»¤è¡Œå‚æ•°
â”‚   â”œâ”€â”€ libs/                  # ç¬¬ä¸‰æ–¹åº“
â”‚   â”œâ”€â”€ tools/                 # å·¥å…·æ¨¡å—ï¼ˆå·²åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ main.py                # ä¸»å…¥å£
â”‚   â””â”€â”€ requirements.txt       # ä¾èµ–æ–‡ä»¶
â”œâ”€â”€ crawler_api.py             # Flask è“å›¾ï¼ˆå·²é…ç½®è·¯å¾„ï¼‰
â”œâ”€â”€ sau_backend.py             # ä¸»åç«¯æœåŠ¡ï¼ˆå·²æ³¨å†Œè“å›¾ï¼‰
â””â”€â”€ sau_frontend/              # å‰ç«¯ä»£ç 
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ views/crawler/     # çˆ¬è™«ç®¡ç† Vue ç»„ä»¶
    â”‚   â””â”€â”€ api/crawler.js     # API æ¥å£æ–‡ä»¶
```

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

1. **è“å›¾æ³¨å†Œ**ï¼ˆ`sau_backend.py`ï¼‰
   ```python
   from crawler_api import crawler_bp
   app.register_blueprint(crawler_bp)
   ```

2. **è·¯å¾„é…ç½®**ï¼ˆ`crawler_api.py`ï¼‰
   ```python
   MEDIACRAWLER_PATH = Path(__file__).parent / 'MediaCrawler'
   ```

### å‰ç«¯é…ç½®

- Vue ç»„ä»¶ä½ç½®ï¼š`sau_frontend/src/views/crawler/`
- API æ–‡ä»¶ä½ç½®ï¼š`sau_frontend/src/api/crawler.js`

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¼ºå¤±çš„æ¨¡å—**
   - `tools` æ¨¡å—å·²åˆ›å»ºåŸºç¡€æ–‡ä»¶ï¼Œä½†éƒ¨åˆ†åŠŸèƒ½å¯èƒ½éœ€è¦æ ¹æ®å®é™…ä½¿ç”¨è¡¥å……
   - `myUtils.cookie_refresh` æ˜¯ social-auto-upload-window è‡ªå·±çš„æ¨¡å—ï¼Œä¸å½±å“ MediaCrawler åŠŸèƒ½

2. **ä¾èµ–å®‰è£…**
   - ç¡®ä¿å·²å®‰è£… MediaCrawler çš„æ‰€æœ‰ä¾èµ–ï¼š`pip install -r MediaCrawler/requirements.txt`

3. **æ•°æ®åº“é…ç½®**
   - MediaCrawler çš„æ•°æ®åº“é…ç½®åœ¨ `MediaCrawler/database/` ç›®å½•ä¸­
   - ç¡®ä¿æ•°æ®åº“è·¯å¾„å’Œé…ç½®æ­£ç¡®

## ğŸš€ æœåŠ¡è®¿é—®

- **åç«¯ API**: http://localhost:5409
- **å‰ç«¯ç•Œé¢**: http://localhost:5173
- **çˆ¬è™«ç®¡ç† API å‰ç¼€**: `/api/crawler`

## âœ… éªŒè¯ç»“æœ

- âœ… åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
- âœ… å‰ç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
- âœ… API æ¥å£æµ‹è¯•é€šè¿‡
- âœ… MediaCrawler æ¨¡å—å¯¼å…¥æˆåŠŸï¼ˆéƒ¨åˆ†è­¦å‘Šä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰

## ğŸ“ ä¸‹ä¸€æ­¥

1. é…ç½®å‰ç«¯è·¯ç”±å’Œèœå•ï¼ˆå‚è€ƒæ•´åˆåŒ…ä¸­çš„ç¤ºä¾‹æ–‡ä»¶ï¼‰
2. æµ‹è¯•å®Œæ•´çš„çˆ¬è™«ç®¡ç†åŠŸèƒ½
3. æ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µè¡¥å…… `tools` æ¨¡å—çš„åŠŸèƒ½

---

**æ•´åˆå®Œæˆæ—¶é—´**: 2025-12-22  
**æ•´åˆçŠ¶æ€**: âœ… å®Œæˆ

